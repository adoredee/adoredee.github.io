<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<title>
  
     Linux之像IDE一样使用vim（C&#43;&#43;版本/Python版本 | 
    adoredee
  
</title><meta name="description" content="Thy know not I knew thee"><meta name="author" content="kangzhiheng">

<link rel="apple-touch-icon" href="/apple-touch-icon.png" sizes="180x180">
<link rel="icon" href="/favicon-32x32.png " sizes="32x32" type="image/png">
<link rel="icon" href="/favicon-16x16.png" sizes="16x16" type="image/png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#0c344b">
<link rel="icon" href="/favicon.ico">


    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/themes/prism.min.css">
    



    
        
            <link rel="stylesheet" href="/dist/main.37ab3f61b95417873748.min.css">
        
    




<link rel="canonical" href="https://www.kangzhiheng.top/post/9-linux%E4%B9%8B%E6%89%93%E9%80%A0vim%E5%AE%9E%E7%94%A8%E9%85%8D%E7%BD%AE%E6%96%B9%E6%A1%88/"><meta property="og:title" content="Linux之像IDE一样使用vim（C&#43;&#43;版本/Python版本" />
<meta property="og:description" content="打造vim实用配置方案" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.kangzhiheng.top/post/9-linux%E4%B9%8B%E6%89%93%E9%80%A0vim%E5%AE%9E%E7%94%A8%E9%85%8D%E7%BD%AE%E6%96%B9%E6%A1%88/" />
<meta property="og:image" content="https://www.kangzhiheng.top/9-cover.png" />
<meta property="article:published_time" content="2020-03-30T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-03-30T00:00:00+00:00" />

<meta itemprop="name" content="Linux之像IDE一样使用vim（C&#43;&#43;版本/Python版本">
<meta itemprop="description" content="打造vim实用配置方案">
<meta itemprop="datePublished" content="2020-03-30T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2020-03-30T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="8863">
<meta itemprop="image" content="https://www.kangzhiheng.top/9-cover.png">



<meta itemprop="keywords" content="vim," /><meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://www.kangzhiheng.top/9-cover.png"/>

<meta name="twitter:title" content="Linux之像IDE一样使用vim（C&#43;&#43;版本/Python版本"/>
<meta name="twitter:description" content="打造vim实用配置方案"/>


<script async src="https://www.googletagmanager.com/gtag/js?id=UA-166758556-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-166758556-1');
</script>

</head>
<body>
    
<nav class="navbar navbar-expand-md navbar-light bg-light fixed-top shadow-sm" id="navbar-main-menu">
    <div class="container">
        <a class="navbar-brand font-weight-bold" href="https://www.kangzhiheng.top/">adoredee</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#main-menu" aria-controls="main-menu" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="main-menu">
            <ul class="navbar-nav ml-auto">

                
                    <li class="nav-item"><a class="nav-link" href="/">Home</a></li>
                
                    <li class="nav-item"><a class="nav-link" href="/post/">Archives</a></li>
                
                    <li class="nav-item"><a class="nav-link" href="/series/">Series</a></li>
                
                    <li class="nav-item"><a class="nav-link" href="/categories/">Categories</a></li>
                
                    <li class="nav-item"><a class="nav-link" href="/tags/">Tags</a></li>
                
                    <li class="nav-item"><a class="nav-link" href="/system/">System</a></li>
                
                    <li class="nav-item"><a class="nav-link" href="/share/">Share</a></li>
                
                    <li class="nav-item"><a class="nav-link" href="/life/">Life</a></li>
                
                    <li class="nav-item"><a class="nav-link" href="/poems/">Poems</a></li>
                
                    <li class="nav-item"><a class="nav-link" href="/about/">About</a></li>
                
                    <li class="nav-item"><a class="nav-link" href="/search/">Search</a></li>
                
            
            </ul>
        </div>
    </div>
</nav>




    
<main class="content-page container pt-7 pb-5">
    
    <div class="row">
        <div class="col">
            <article>
                <div class="row justify-content-center">
                    <div class="col-lg-12">
                        <div class="meta text-muted mb-3">
                            <p class="created text-muted text-uppercase font-weight-bold mb-1">March 30, 2020</p>
                            <span class="mr-2"><i class="fas fa-book-open mr-2"></i></span>
                            <span><i class="fas fa-clock mr-2"></i></span>
                        </div>

                        <h1>Linux之像IDE一样使用vim（C&#43;&#43;版本/Python版本</h1>

                        <ul class="authors list-inline"><li class="list-inline-item mr-3">
                    <div class="media author"><a href="/authors/kangzhiheng/" class="mr-3">
                                    <picture>
                                        <source srcset="/authors/kangzhiheng/refrain_huc96af13c0d53ef6b21ac652a00d8e2ed_60914_64x0_resize_q75_box.jpg 1x, /authors/kangzhiheng/refrain_huc96af13c0d53ef6b21ac652a00d8e2ed_60914_128x0_resize_q100_box.jpg 2x, /authors/kangzhiheng/refrain_huc96af13c0d53ef6b21ac652a00d8e2ed_60914_192x0_resize_q100_box.jpg 3x">
                                        <img src="/authors/kangzhiheng/refrain_huc96af13c0d53ef6b21ac652a00d8e2ed_60914_64x0_resize_q75_box.jpg" class="rounded-circle" alt="kangzhiheng">
                                    </picture>
                                </a><div class="media-body">
                            <h5 class="name my-0"><a href="/authors/kangzhiheng/" class="small">kangzhiheng</a>
                            </h5><p class="social small text-muted">
                                    <a href="https://github.com/kangzhiheng">@kangzhiheng</a>
                                </p></div>
                    </div>
                </li></ul>
                    </div>
                </div><div class="row justify-content-center mb-3">
                                <div class="col-lg-10">
                                    <img data-src="/images/9-cover_hu4df983cee1adaf6a23bbe52536e666ac_90944_900x500_fit_box_2.png" class="img-fluid rounded mx-auto d-block" alt="Linux之像IDE一样使用vim（C&#43;&#43;版本/Python版本">
                                </div>
                            </div>
<div class="post-toc" id="post-toc">
  <h2 class="post-toc-title"></h2>
  <div class="post-toc-content always-active">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#什么是vim">什么是Vim？</a></li>
        <li><a href="#vim哲学">Vim哲学</a></li>
        <li><a href="#升级支持python3的vim8">升级支持python3的Vim8</a></li>
        <li><a href="#vim8--neovim">Vim8 —&gt; NeoVim</a></li>
        <li><a href="#基本操作">基本操作</a></li>
        <li><a href="#基础设置">基础设置</a></li>
        <li><a href="#插件管理">插件管理</a></li>
        <li><a href="#一些要点">一些要点</a></li>
        <li><a href="#一些问题">一些问题</a></li>
        <li><a href="#结语">结语</a></li>
        <li><a href="#后续计划">后续计划</a></li>
        <li><a href="#参考">参考</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>                
                <div class="row justify-content-center">
                    <div class="col-lg-12">
                        <div class="content">
                            <p>打造vim实用配置方案</p>
<p>这篇文章的目的，是打造让自己感觉舒服好用的<a href="https://github.com/vim/vim">Vim</a>/<a href="https://github.com/neovim/neovim">NeoVim</a>环境以便获得更好的编程体验，并将我所遇到的一些问题列出解决方案，不足之处还请见谅，欢迎与各位进行交流，邮箱是<a href="mailto:kangzhiheng@live.cn">kangzhiheng@live.cn</a>。</p>
<p>本文所有命令，在<strong>CentOS7.6</strong> 上全部测试通过，Mac系统相对来说配置比较容易，在此不做特别说明，每一步都有详细的步骤，敬请参考。</p>
<h3 id="什么是vim">什么是Vim？</h3>
<p><strong><a href="https://www.vim.org/">Vim</a>- the ubiquitous text editor</strong>，一种无处不在的文本编辑器，维基百科是这么介绍<strong>vim</strong>的：</p>
<blockquote>
<p><strong>Vim</strong>是从<a href="https://zh.wikipedia.org/wiki/Vi">vi</a>发展出来的一个<a href="https://zh.wikipedia.org/wiki/%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91%E5%99%A8">文本编辑器</a>。其代码补完、编译及错误跳转等方便编程的功能特别丰富，在程序员中被广泛使用。和<a href="https://zh.wikipedia.org/wiki/Emacs">Emacs</a>并列成为<a href="https://zh.wikipedia.org/wiki/%E7%B1%BBUnix%E7%B3%BB%E7%BB%9F">类Unix系统</a>用户最喜欢的编辑器。</p>
<p>Vim的第一个版本由<a href="https://zh.wikipedia.org/wiki/%E5%B8%83%E8%90%8A%E5%A7%86%C2%B7%E7%B1%B3%E5%8B%92">布莱姆·米勒</a>在1991年发布。最初的简称是<strong>V</strong>i <strong>IM</strong>itation，随着功能的不断增加，正式名称改成了<strong>V</strong>i <strong>IM</strong>proved。现在是在<a href="https://zh.wikipedia.org/wiki/%E5%BC%80%E6%94%BE%E6%BA%90%E4%BB%A3%E7%A0%81">开放源代码</a>方式下发行的<a href="https://zh.wikipedia.org/wiki/%E8%87%AA%E7%94%B1%E8%BD%AF%E4%BB%B6">自由软件</a>。</p>
</blockquote>
<p><strong>文件的增删查改</strong>——熟悉Windows的朋友可能对文件增删查改习以为常，在此不做讨论。对于一名程序工作者，可能经常在Linux下进行程序的增删查改，很多人可能有这么一套方法：我在Windows环境下编写好了程序，然后通过Xftp、FileZilla等类似的工具将其丢到服务器上，一顿操作下来，发现程序报错了，怎么办？然后在Windows下修改，再丢到服务器上双十合十祈求老天保佑……当然像PyCharm这种强大的IDE，会提供远程接入服务器进行同步文件及程序运行等功能，这种也挺好，就是可能需要鼠标点来点去，也有一定的学习成本。现在有这么一个问题，PyCharm明天到期了……社区版？不好意思所有社区版鄙人都不会去尝试，别问为啥，问就是不喜欢。</p>
<p><strong>配置文件</strong>——配置文件和工作效率有着紧密的联系。对于算法工程师或者后端工程师，在Github逛gai的时候终于发现了一个好用的模型，一顿<code>git clone repoyoulike</code>，然后按照配置文档进行修改，什么<strong>tf</strong>要升级啦，<strong>gcc/g++</strong>要降级啦，这个文档要修改路径，那个文档要改参数，都离不开Vim，如果是带桌面的Linux系统，可能会使用<code>gedit</code>来打开文件进行编辑，但是这样效率很低，尤其是大型程序修改起来特别费劲。对于大多数情况，可能用<strong>ssh</strong>连接远程服务器，这个时候，怎么也绕不开Vim，尤其是那些只能在服务器上运行的程序。</p>
<p><strong>知其然知其所以然</strong>——使用Vim来处理程序方面的设定问题，不但可以让自己比较熟悉Linux的运行状况，也更加能保证你的修改可以在Linux下正确运行。</p>
<p><strong>Vim</strong>适用于各种操作系统上，比如类Unix（种Linux发行版本、Mac 用户）以及Windwos系统。Unix可以使用包管理器安装 Vim；对于 Windows 用户，可以从<a href="https://www.vim.org/download.php">官网</a>下载。</p>
<h3 id="vim哲学">Vim哲学</h3>
<p>简单概括：摆脱鼠标，一键到达。</p>
<p>即为全命令操作，能用键盘做到的事情，绝不用鼠标，在Vim下，键盘可以满足你的一切需求，效率是第一生产力。</p>
<h3 id="升级支持python3的vim8">升级支持python3的Vim8</h3>
<p>在众多Linux发行版中，比如CentOS或者Ubuntu等，默认安装的是<strong>vi</strong>编辑器，Vim兼容vi。Vim已经存在20年了，时代在进步，<a href="https://github.com/vim/vim">Vim8</a>在<a href="https://github.com/neovim/neovim">NeoVim</a>的步步紧逼下，扩展了一些新的特征，比如支持时钟、异步操作、支持终端窗口<strong>terminal</strong>，尤其是支持<strong>terminal</strong>非常关键。本文最开始在Vim7下进行操作的，但是有些插件需要Vim8版本，尤其是<a href="https://github.com/ycm-core/YouCompleteMe">代码补全插件YouCompleteMe</a>，在升级了支持<strong>Python3</strong>的Vim8后（<strong>在Vim版本中，不能同时支持Python2和Python3</strong>），依然有些瑕疵，比如对Python3的第三方库的扩展不是很友好，对C/C++支持得还不错，不知道是不是我的插件安装有问题还是什么原因，折腾了两三天后，果断把Vim换成了<a href="https://github.com/neovim/neovim">NeoVim</a>，<a href="https://github.com/ycm-core/YouCompleteMe">YouCompleteMe</a>换了另一个代码补全插件<a href="https://github.com/neoclide/coc.nvim">coc-vim</a>，香得不行。在这一小节，介绍怎么<strong>编译支持Python3的Vim8版本</strong>，<strong>前提是系统了安装Python3</strong>，Python3的安装不做讨论。</p>
<ol>
<li>
<p><strong>编译安装yum源里的vim最新版</strong></p>
<p><a href="https://github.com/ycm-core/YouCompleteMe/wiki/Building-Vim-from-source">参考YouCompleteMe</a>里给出的方法，略作调整。</p>
<p>首先检查系统里的Vim是否已经安装，在终端输入命令</p>
<pre><code class="language-bash">rpm -qa | grep vim
</code></pre>
<p>如果有显示且没有提示任何缺包或者错误，则表示Vim已经被安装，如果没有安装，直接从第3步（<strong>下载Vim最新版源代码</strong>）开始阅读。</p>
<p>一般情况下，运行下列命令安装Vim</p>
<pre><code class="language-bash">yum -y install yum*    // CentOS7.6系统
</code></pre>
<p>查看vim版本</p>
<pre><code class="language-bash">vim --version
</code></pre>
<p>可以看到，Vim版本一般是7.4，而现在Vim发行版已经发行到了第八代，包括很多新的功能，为了打造属于自己的IDE，必须升级Vim到最新版本。</p>
<p>如果是Vim版本，查看Vim是否支持Python3</p>
<pre><code class="language-bash">vim --version | grep python
</code></pre>
<p>如果结果显示python3前面是<code>+</code>号，则这一小节可以跳过，如果是<code>-</code>号，则需要自己编译Vim，需执行以下步骤。</p>
</li>
<li>
<p><strong>卸载Vim</strong></p>
<p>在编译之前，需要卸载系统上的Vim版本</p>
<ul>
<li>
<p>如果使用<code>yum install vim*</code>命令安装的Vim，卸载Vim时执行</p>
<pre><code class="language-bash">yum remove vim
</code></pre>
</li>
<li>
<p>如果Vim是使用<code>make</code>编译过的，在<strong>CentOS7.6系统</strong>下，进入到Vim源代码目录，执行</p>
<pre><code class="language-bash">sudo make uninstall
</code></pre>
</li>
</ul>
<p>如果Vim源代码已经删除，则需要重新[下载Vim源码](git clone <a href="https://github.com/vim/vim.git">https://github.com/vim/vim.git</a>)，然后<code>cd vim</code>，再执行上述语句。</p>
<p>如果是<strong>Ubuntu系统</strong>，卸载起来就比较方便</p>
<pre><code class="language-bash">sudo apt install checkinstall
cd ~/vim       // vim是Vim源代码文件夹
sudo checkinstall
</code></pre>
</li>
<li>
<p><strong>下载Vim最新版源代码</strong></p>
<pre><code class="language-bash">cd ~                                         // 进入到当前用户的根目录下
git clone https://github.com/vim/vim.git     // 下载Vim源代码
cd vim                                       // 进入到Vim源代码文件
</code></pre>
</li>
<li>
<p><strong>配置</strong></p>
<pre><code class="language-bash">./configure --with-features=huge \
            --enable-multibyte \
            --enable-rubyinterp=yes \
            --enable-python3interp=yes \
            --with-python3-config-dir=$(python3-config --configdir) \
            --enable-perlinterp=yes \
            --enable-luainterp=yes \
            --enable-gui=gtk2 \
            --enable-cscope \
            --prefix=/usr/local
</code></pre>
<p>命令<a href="https://www.jianshu.com/p/aac78ff576c5">解释</a>：</p>
<p><code> --with-features=huge</code>：支持最大特性</p>
<p><code>--enable-multibyte</code>：打开多字节支持，可以在Vim中输入中文</p>
<p><code>--enable-rubyinterp</code>：打开对ruby编写的插件的支持</p>
<p><code> --enable-python3interp</code>：打开对python3编写的插件的支持</p>
<p><code>--with-python-config-dir</code>：Python3的路径</p>
<p><code>--enable-perlinterp</code>：打开对perl编写的插件的支持</p>
<p><code> --enable-luainterp</code>：打开对lua编写的插件的支持</p>
<p><code>--enable-gui</code>：打开GUI支持</p>
<p><code>--enable-cscope</code>：打开对cscope的支持</p>
<p><code>--prefix=/usr/local/</code>：指定将要安装到的路径</p>
</li>
<li>
<p><strong>设置VIMRUNTIMEDIR</strong></p>
<p><strong>VIMRUNTIMEDIR</strong>是vim运行时候所需资源的目录，非常重要。</p>
<pre><code class="language-bash">    make VIMRUNTIMEDIR=/usr/local/share/vim/vim82
</code></pre>
</li>
<li>
<p><strong>编译安装</strong></p>
<pre><code class="language-bash">sudo make install
</code></pre>
</li>
<li>
<p><strong>设置Vim为默认的编辑器</strong></p>
<p>使用<code>update-alternative</code>设置vim为默认编辑器：</p>
<pre><code class="language-bash">sudo update-alternatives --install /usr/bin/editor editor /usr/local/bin/vim 1
sudo update-alternatives --set editor /usr/local/bin/vim
sudo update-alternatives --install /usr/bin/vi vi /usr/local/bin/vim 1
sudo update-alternatives --set vi /usr/local/bin/vim
</code></pre>
</li>
</ol>
<p>按照上述步骤完成后查看Vim**版本</p>
<pre><code>vim --version
</code></pre>
<p><img src="https://pic.downk.cc/item/5e89ec78504f4bcb042f0550.png" alt="vim版本"></p>
<p>可以看到Vim版本是8.2版本，已开启<strong>python3支持</strong>，需要进行验证，在终端输入<code>vim</code>，接着在<strong>正常模式</strong>下输入<code>:echo has(&quot;python3&quot;)</code>，按一下回车键，若屏幕最下面输出<code>1</code>，则配置正确，Vim支持Python3。</p>
<p>编译的时候可能会出现各种意想不到的问题，这个时候要多看专业的文档，比如官网文档、github及<strong>Issues（非常有用）</strong>、<a href="https://stackoverflow.com/">stackoverflow</a>等，其次再考虑其它出处，尽可能多看<strong>专业的英文文档</strong>，很多问题我们习惯看一些野路子中文解答，看似走了捷径但是花费了更多的时间，切记！一些优秀的项目有对应的中文文档，首推！</p>
<p>该方法是全局设置方法。</p>
<ul>
<li>
<p><strong>安装中文vim帮助文档</strong></p>
<p>进入Vim环境，按一下前缀键<code>esc</code>，在英文语法环境下，输入<code>:help</code>后（终端最下面显示），进入vim帮助文档，此界面是英文的，如果想要设置中文帮助文档，请执行以下步骤：</p>
<ul>
<li>
<p><strong>下载中文安装包</strong></p>
<pre><code class="language-bash">wget https://github.com/yianwillis/vimcdoc/archive/v2.3.0.tar.gz
</code></pre>
</li>
<li>
<p><strong>解压</strong></p>
<pre><code class="language-bash">tar zxvf v2.3.0.tar.gz
</code></pre>
</li>
<li>
<p><strong>安装</strong></p>
<pre><code class="language-bash">cd vimcdoc-2.3.0/				# 进入解压后的目录
./vimcdoc.sh -i					# 安装
</code></pre>
<p>命令会自动识别 Vim 的安装路径，并将中文的文档拷贝到相应的地方，原有的英文文档不受影响，查阅中文文档学习Vim。</p>
</li>
</ul>
</li>
</ul>
<h3 id="vim8--neovim">Vim8 —&gt; NeoVim</h3>
<p>完全是偶然。在上回讲到，在Vim下折腾了两三天的<a href="https://github.com/ycm-core/YouCompleteMe">代码补全插件YouCompleteMe</a>，使用起来并不是很顺手，比如对Python3的第三方库的扩展不是很友好，对C/C++支持得还不错，不知道是不是我的插件安装有问题还是什么原因，果断把Vim换成了<a href="https://github.com/neovim/neovim">NeoVim</a>，<a href="https://github.com/ycm-core/YouCompleteMe">YouCompleteMe</a>换了另一个代码补全插件<a href="https://github.com/neoclide/coc.nvim">coc-vim</a>，香得不行。</p>
<h3 id="基本操作">基本操作</h3>
<p>基本模式</p>
<p>编辑模式</p>
<h3 id="基础设置">基础设置</h3>
<p><a href="https://zhuanlan.zhihu.com/p/38150203">键盘映射技巧</a></p>
<p><code>&quot;+p</code>可以将外部内容粘贴到终端vim文件中</p>
<h3 id="插件管理">插件管理</h3>
<h4 id="vim-plug插件管理器">vim-plug插件管理器</h4>
<p>Vim的插件管理有<a href="https://github.com/VundleVim/Vundle.vim">Vundle</a>、<a href="https://github.com/junegunn/vim-plug">vim-plug</a>、<a href="https://github.com/SpaceVim/SpaceVim">SpaceVim</a>等，<a href="https://github.com/VundleVim/Vundle.vim">Vundle</a>是一款非常出名且历史悠久的Vim插件管理工具，但随着安装的vim插件越来越多，使用Vundle来管理这些插件时效率变得越来越低，vim启动耗时也越来越大，且多年没有更新；<a href="https://github.com/SpaceVim/SpaceVim">SpaceVim</a>挺酷炫，有时间可以尝试一下，在这里推荐使用<a href="https://github.com/junegunn/vim-plug">vim-plug</a>，</p>
<p><strong>Unix安装</strong>（包括CentOS和Mac）</p>
<pre><code class="language-bash">curl -fLo ~/.vim/autoload/plug.vim --create-dirs \
    https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
</code></pre>
<p>该命令在Unix系统下无须进行修改，会自动创建目录<code>~/.vim/autoload/</code>。</p>
<p>更新vim-plug插件自身：</p>
<pre><code class="language-bash">:PlugUpgrade
</code></pre>
<p>批量更新所有已安装的插件：</p>
<pre><code class="language-bash">:PlugUpdate
</code></pre>
<p>查看插件状态</p>
<pre><code class="language-bash">:PlugStatus
</code></pre>
<p>卸载插件：请先在<strong>~/.vim/vimrc</strong>或者<strong>~/.config/nvim/init.vim</strong>配置文件中注释或者删除对应插件的配置信息，然后再执行以下命令：</p>
<pre><code>:PlugClean
</code></pre>
<h4 id="插件安装">插件安装</h4>
<p>假设系统已经安装了python3解释器，如没有安装，请参考这篇<a href="%5Bhttps://github.com/kangzhiheng/GitLocalDoc#anaconda%E5%AE%89%E8%A3%85tensorflow-gpu%5D(https://github.com/kangzhiheng/GitLocalDoc#anaconda%E5%AE%89%E8%A3%85tensorflow-gpu)">文章</a></p>
<h5 id="美化启动界面---vim-startify">美化启动界面  — vim-startify</h5>
<p><a href="https://github.com/mhinz/vim-startify">https://github.com/mhinz/vim-startify</a></p>
<pre><code class="language-bash">Plug 'mhinz/vim-startify'
</code></pre>
<p><img src="https://pic.downk.cc/item/5e8de221504f4bcb0466b21e.png" alt="startigy"></p>
<p>在终端输入<code>nvim</code>后，显示nvim启动界面，列出最近打开的文件，很方便。</p>
<h5 id="美化状态栏--ariline">美化状态栏 — ariline</h5>
<p><a href="https://github.com/vim-airline/vim-airline">https://github.com/vim-airline/vim-airline</a></p>
<pre><code class="language-bash">Plug 'vim-airline/vim-airline'
</code></pre>
<p><img src="https://github.com/vim-airline/vim-airline/wiki/screenshots/demo.gif" alt="美化状态栏"></p>
<h5 id="文件管理插件--nerdtree">文件管理插件 — NERDTree</h5>
<p>使用方法</p>
<p>Ctrl + w + w   窗口之间的跳转</p>
<p>当光标在NERDTree窗口时，</p>
<p><code>shift+i</code>是打开/关闭隐藏文件</p>
<p>o - 展开/合并某个目录</p>
<p>C - 如果需要某个文件夹作为你的工作区，则需要按下大写C即可设置此目录为当前工作区</p>
<p>U - 跳转到上一层目录</p>
<p>cd - 设置该目录为家目录</p>
<p>CD - 可能在别的目录迷失了方向，直接输入<code>CD</code>跳转到已经设置好的家目录</p>
<h5 id="代码自动补全--youcompleteme">代码自动补全 — YouCompleteMe</h5>
<pre><code class="language-bash">
call plug#begin('~/.vim/pluged')

&quot; 插件配置

&quot; 文件树
Plug 'scrooloose/nerdtree'

&quot; 代码补全
Plug 'ycm-core/YouCompleteMe'

call plug#end()               
</code></pre>
<p>在Vim配置文件<code>~/.vim/vimrc</code>下的插件Vundle部分，加入<a href="https://github.com/ycm-core/YouCompleteMe">代码补全插件YouCompleteMe</a>，然后在<strong>正常模式</strong>下，键入<code>:PluginInstall</code>进行插件安装，安装完成后，会在命令行提出</p>
<pre><code class="language-bash">The ycmd server SHUT DOWN (restart with ‘:YcmRestartServer’). YCM core library not detected; you need to compile YCM before using it. Follow the instructions in the documentation.
</code></pre>
<p>这是因为，<strong>YouCompleteMe</strong> 需要手工编译出库文件 ycm_core.so (以及依赖的libclang.so) 才可使用。<strong>YouCompleteMe</strong>支持的语言</p>
<ul>
<li><strong>C系列（C/C++/Objective-C/Objective-C++）</strong>：编译时添加<code>--clangd-completer</code></li>
<li><strong>C#</strong>：先安装<a href="http://www.mono-project.com/docs/getting-started/install/linux/#debian-ubuntu-and-derivatives">Mono</a>，编译时添加<code>--cs-completer</code></li>
<li><strong>Go</strong>：先安装[Go](<a href="https://golang.org/doc/install">https://golang.org/doc/install</a>，编译时添加<code>--go-completer</code></li>
<li><strong>JavaScript</strong>和<strong>TypeScript</strong>：先安装 <a href="https://docs.npmjs.com/getting-started/installing-node#1-install-nodejs--npm">Node.js and npm</a>，编译时添加<code>--ts-completer</code></li>
<li><strong>Rust</strong>: 编译时添加<code>--rust-completer</code></li>
<li><strong>Java</strong>: 先安装<a href="https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html">JDK8</a>，编译时添加<code>--java-completer</code></li>
<li>全部支持：先安装所有的依赖环境，编译时添加<code>--all</code></li>
</ul>
<p>要使用<code>--all</code>功能进行安装，请确保已在<code>PATH</code>中安装了<strong>msbuild</strong>，<strong>go</strong>，<strong>node</strong>和<strong>npm</strong>工具。</p>
<p>个人对C系列使用较多，因此</p>
<pre><code class="language-bash">cd ~/.vim/pluged/YouCompleteMe
python3 install.py --clangd-completer
</code></pre>
<p>如果系统没有设置默认的Python为Python3版本，则需要注意以上命令是<code>python3</code>开头的，这时<strong>C系列</strong>语言的代码自动补全功能配置完毕。</p>
<p>python语言自动补全</p>
<p>需要在Vim配置文件<code>~/.config/nvim/init.vim</code>下的插件Vundle部分，加入</p>
<pre><code class="language-bash"> &quot; YouCompleteMe配置                                                                                                                              
nnoremap gd :YcmCompleter GoToDefinitionElseDeclaration&lt;CR&gt;                                 nnoremap g/ :YcmCompleter GetDoc&lt;CR&gt;                                                       nnoremap gt :YcmCompleter GetType&lt;CR&gt;                                                       nnoremap gr :YcmCompleter GoToReferences&lt;CR&gt;                                                 let g:ycm_autoclose_preview_window_after_completion=0                                       let g:ycm_autoclose_preview_window_after_insertion=1                                         let g:ycm_use_clangd = 0                                                                     let g:ycm_seed_identifiers_with_syntax=1                                                     let g:ycm_collect_identifiers_from_tags_files = 1                                           let g:ycm_min_num_of_chars_for_completion=2                                                  let g:ycm_path_to_python_interpreter='/usr/bin/python3' 
</code></pre>
<p>注意python3解释器的位置，这个设置好像对第三方库不是很友好，我再探索探索。</p>
<h5 id="括号自动补全--auto-pairs">括号自动补全 — auto-pairs</h5>
<p><a href="https://github.com/jiangmiao/auto-pairs">链接  </a></p>
<h5 id="函数列表--tagbar">函数列表 — TagBar</h5>
<p><a href="https://github.com/majutsushi/tagbar">链接</a></p>
<p>首先安装<code>ctags</code></p>
<pre><code class="language-bash"># CentOS7.6
sudo yum install ctags
# Ubuntu
sudo apt-get install ctags
# Mac
brew install ctags
</code></pre>
<p>在<code>~/.config/nvim/init.vim</code>里的<strong>插件配置</strong>里</p>
<pre><code class="language-bash">&quot; 显示函数列表                        
Plug 'majutsushi/tagbar'
</code></pre>
<h5 id="代码自动补全-coc-vim推荐">代码自动补全 coc-vim（推荐）</h5>
<p>根据<a href="https://github.com/neoclide/coc.nvim">官网</a>建议，安装coc-vim前，需要首先安装<a href="https://nodejs.org/en/download/">nodejs</a></p>
<pre><code class="language-bash">curl -sL install-node.now.sh/lts | bash
</code></pre>
<p>利用vim-plus来进行安装</p>
<pre><code class="language-bash">&quot; Coc-vim 自动补全插件
Plug 'neoclide/coc.nvim', {'branch': 'release'}
</code></pre>
<p>保存并重启（更新）<code>~/.config/nvim/init.vim</code>文件，运行<code>PlugInstall</code>进行安装。</p>
<p>如果出现<a href="https://github.com/neoclide/coc.nvim/issues/651">错误</a></p>
<pre><code class="language-bash">[coc.nvim] javascript file not found, please compile the code or use release branch.
</code></pre>
<p>参考<a href="https://github.com/neoclide/coc.nvim/issues/651">issue651</a>，打开<code>~/.config/nvim/init.vim</code>文件，运行命令<code>:call coc#util#install()</code>可以解决该问题。</p>
<p>安装完成后，根据<a href="https://github.com/neoclide/coc.nvim/">项目</a>对coc-vim插件进行配置，参考<a href="https://github.com/neoclide/coc.nvim/blob/master/doc/coc.cnx">链接</a>（重要），在<code>~/.config/nvim/init.vim</code>下进行coc-vim插件进行个性化配置使其更加易用，这部分配置文件如下：</p>
<pre><code class="language-bash">&quot; ====
&quot; ==== coc-vim插件配置
&quot; ====
&quot; 允许在有未保存的修改时切换缓冲区, 此时的修改由 vim 负责保存
set hidden

&quot; 覆盖文件时不备份
set nobackup

&quot; 表示编辑的时候不需要备份文件
set nowritebackup

&quot; 命令行（在状态行下）的高度, 默认为1, 这里是2, 展示更多的信息
set cmdheight=2

&quot; 根据默认设置，交换文件会每隔4000毫秒（4秒）或者200个字符保存一次
&quot; 我们可以使用以下命令，修改保存交换文件的频率
&quot; 较长的更新时间（默认值为4000 ms = 4 s）会导致明显的延迟和较差的用户体验。
set updatetime=300

&quot; 历史原因，Vim的界面可能会显示“帮助乌干达的可怜儿童”，该命令将其屏蔽
&quot; Don't pass messages to |ins-completion-menu|.
set shortmess+=c

&quot; 始终显示标号列
set signcolumn=yes

&quot; inoremap命令用于在“插入模式”中进行映射按键
&quot; 使用TAB键来启动代码补全触发器，并在前面加上字符并进行导航。
&quot; 注意：使用命令'：verbose imap &lt;tab&gt;'来确保选项卡未由
&quot;，然后再将其放入配置中
inoremap &lt;silent&gt;&lt;expr&gt; &lt;TAB&gt;
      \ pumvisible() ? &quot;\&lt;C-n&gt;&quot; :
      \ &lt;SID&gt;check_back_space() ? &quot;\&lt;TAB&gt;&quot; :
      \ coc#refresh()
inoremap &lt;expr&gt;&lt;S-TAB&gt; pumvisible() ? &quot;\&lt;C-p&gt;&quot; : &quot;\&lt;C-h&gt;&quot;

function! s:check_back_space() abort
  let col = col('.') - 1
  return !col || getline('.')[col - 1]  =~# '\s'
endfunction

&quot; 使用ctrl+空格键来强制触发补全
inoremap &lt;silent&gt;&lt;expr&gt; &lt;c-space&gt; coc#refresh()

&quot; &lt;cr&gt;表示空格键，&lt;C-g&gt;表示Ctrl+g
&quot; 使用&lt;cr&gt;确认补全，“ &lt;C-g&gt; u”表示在当前位置断开撤消链
&quot; Coc仅在确认时进行摘要和其他编辑
if has('patch8.1.1068')
  &quot; Use `complete_info` if your (Neo)Vim version supports it.
  inoremap &lt;expr&gt; &lt;cr&gt; complete_info()[&quot;selected&quot;] != &quot;-1&quot; ? &quot;\&lt;C-y&gt;&quot; : &quot;\&lt;C-g&gt;u\&lt;CR&gt;&quot;
else
  imap &lt;expr&gt; &lt;cr&gt; pumvisible() ? &quot;\&lt;C-y&gt;&quot; : &quot;\&lt;C-g&gt;u\&lt;CR&gt;&quot;
endif

&quot;  键盘映射参考：https://zhuanlan.zhihu.com/p/38150203
&quot; nmap是:map的普通模式板，也就是说其绑定的键只作用于普通模式 
&quot; &lt;silent&gt; 表示静默映射，不会显示Vim在处理rhs(映射后的键位)过程中对界面产生的变化
&quot; 使用`[g`和`]g`浏览诊断
nmap &lt;silent&gt; [g &lt;Plug&gt;(coc-diagnostic-prev)
nmap &lt;silent&gt; ]g &lt;Plug&gt;(coc-diagnostic-next)

&quot; 代码跳转
&quot; GoTo code navigation.
nmap &lt;silent&gt; gd &lt;Plug&gt;(coc-definition)
nmap &lt;silent&gt; gy &lt;Plug&gt;(coc-type-definition)
nmap &lt;silent&gt; gi &lt;Plug&gt;(coc-implementation)
nmap &lt;silent&gt; gr &lt;Plug&gt;(coc-references)

&quot; 使用K键在预览窗口中显示文档
nnoremap &lt;silent&gt; K :call &lt;SID&gt;show_documentation()&lt;CR&gt;
function! s:show_documentation()
  if (index(['vim','help'], &amp;filetype) &gt;= 0)
    execute 'h '.expand('&lt;cword&gt;')
  else
    call CocAction('doHover')
  endif
endfunction

&quot; 按住光标时高亮符号及其引用
autocmd CursorHold * silent call CocActionAsync('highlight')

&quot; 符号重命名
nmap &lt;leader&gt;rn &lt;Plug&gt;(coc-rename)

&quot; 格式化所选代码
xmap &lt;leader&gt;f  &lt;Plug&gt;(coc-format-selected)
nmap &lt;leader&gt;f  &lt;Plug&gt;(coc-format-selected)
augroup mygroup
  autocmd!
  &quot; Setup formatexpr specified filetype(s).
  autocmd FileType typescript,json setl formatexpr=CocAction('formatSelected')
  &quot; Update signature help on jump placeholder.
  autocmd User CocJumpPlaceholder call CocActionAsync('showSignatureHelp')
augroup end

&quot; 将codeAction应用于所选区域。
&quot; 示例：&lt;leader&gt; aap 表示当前代码段
xmap &lt;leader&gt;a  &lt;Plug&gt;(coc-codeaction-selected)
nmap &lt;leader&gt;a  &lt;Plug&gt;(coc-codeaction-selected)

&quot; 将codeAction应用于当前行的键的重新映射
nmap &lt;leader&gt;ac  &lt;Plug&gt;(coc-codeaction)
&quot; 自动修复当前行的代码问题
nmap &lt;leader&gt;qf  &lt;Plug&gt;(coc-fix-current)

&quot; 介绍功能文本对象
xmap if &lt;Plug&gt;(coc-funcobj-i)
xmap af &lt;Plug&gt;(coc-funcobj-a)
omap if &lt;Plug&gt;(coc-funcobj-i)
omap af &lt;Plug&gt;(coc-funcobj-a)

&quot; 将&lt;TAB&gt;用于选择范围
nmap &lt;silent&gt; &lt;TAB&gt; &lt;Plug&gt;(coc-range-select)
xmap &lt;silent&gt; &lt;TAB&gt; &lt;Plug&gt;(coc-range-select)

&quot; 添加`:Format`命令格式化当前缓冲区
command! -nargs=0 Format :call CocAction('format')

&quot; 添加`:Fold`命令折叠当前缓冲区
command! -nargs=? Fold :call     CocAction('fold', &lt;f-args&gt;)

&quot; 添加`:OR`命令来组织当前缓冲区的import
command! -nargs=0 OR   :call     CocAction('runCommand', 'editor.action.organizeImport')

&quot; 关于CoCList的一些键盘映射
&quot; 显示所有的诊断
nnoremap &lt;silent&gt; &lt;space&gt;a  :&lt;C-u&gt;CocList diagnostics&lt;cr&gt;
&quot; 管理所有的插件
nnoremap &lt;silent&gt; &lt;space&gt;e  :&lt;C-u&gt;CocList extensions&lt;cr&gt;
&quot; 显示命令
nnoremap &lt;silent&gt; &lt;space&gt;c  :&lt;C-u&gt;CocList commands&lt;cr&gt;
&quot; 找出当前文件的符号
nnoremap &lt;silent&gt; &lt;space&gt;o  :&lt;C-u&gt;CocList outline&lt;cr&gt;
&quot; 在当前文件进行搜索
nnoremap &lt;silent&gt; &lt;space&gt;s  :&lt;C-u&gt;CocList -I symbols&lt;cr&gt;
&quot; 对下一项执行默认操作
nnoremap &lt;silent&gt; &lt;space&gt;j  :&lt;C-u&gt;CocNext&lt;CR&gt;
&quot; 对前一项执行默认操作
nnoremap &lt;silent&gt; &lt;space&gt;k  :&lt;C-u&gt;CocPrev&lt;CR&gt;
&quot; 恢复最新的coc列表
nnoremap &lt;silent&gt; &lt;space&gt;p  :&lt;C-u&gt;CocListResume&lt;CR&gt;
</code></pre>
<p>Language Server Protocol，<a href="https://github.com/neoclide/coc.nvim/wiki/Using-coc-extensions#implemented-coc-extensions">LSP</a>以及<a href="https://github.com/neoclide/coc.nvim/wiki/Language-servers">链接</a></p>
<p><strong>配置C/C++环境</strong></p>
<p>安装clangd，需要<code>cmake&gt;=3.12</code>和<code>gcc&gt;=5.1</code></p>
<p>首先检测cmake版本</p>
<pre><code class="language-bash">cmake --version
</code></pre>
<p>如果其版本小于3.12，则需要升级cmake，下面是编译最新cmake版本的脚本，在终端里新建<code>build_camke.sh</code>脚本，将下面的内容复制到脚本里</p>
<pre><code class="language-bash">#!/bin/bash                                                                                                                                                                    
yum remove cmake -y &amp;&amp; rm -f /usr/bin/cmake
wget -c https://github.com/Kitware/CMake/releases/download/v3.14.2/cmake-3.14.2.tar.gz
tar xvf cmake-3.14.2.tar.gz 
cd $(pwd)/cmake-3.14.2   
./bootstrap              
gmake                    
gmake install            
sudo ln -s /usr/local/bin/cmake /usr/bin/
cmake --version
</code></pre>
<p>然后在终端里运行</p>
<pre><code class="language-bash">bash build_camke.sh
</code></pre>
<p>即可，如果出现问题，可以一步一步在终端运行命令。</p>
<p>接着查看gcc版本信息</p>
<pre><code class="language-bash">gcc --version
</code></pre>
<p>如果版本小于5.1，则需要对gcc进行<a href="https://tlanyan.me/install-upgrade-gcc-on-centos/">升级</a></p>
<pre><code class="language-bash">sudo yum install devtoolset-4-gcc devtoolset-4-gcc-c++
scl enable devtoolset-4 bash
</code></pre>
<p>再查看gcc版本，输出</p>
<pre><code class="language-bash">gcc (GCC) 5.3.1 20160406 (Red Hat 5.3.1-6)
Copyright (C) 2015 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
</code></pre>
<p>接下来编译<code>clangd</code>，参考<a href="https://clangd.llvm.org/installation.html">链接</a>、<a href="!%5Bimage-20200408000824059%5D(C:%5CUsers%5CDell%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200408000824059.png)">链接</a>、<a href="https://gist.github.com/jakob/929ed728c96741a119798647a32618ca">链接</a></p>
<ul>
<li>
<p>在<strong>Mac OS</strong>下，直接运行</p>
<pre><code>brew install llvm
</code></pre>
</li>
<li>
<p>在<strong>Windows</strong>下，下载预编译好的<a href="https://releases.llvm.org/download.html">版本</a>，安装即可</p>
</li>
<li>
<p>在<strong>Debian/Ubuntu</strong>系统下，运行代码</p>
<pre><code>sudo apt-get install clangd-9
</code></pre>
<p><code>clangd </code>的二进制文件将被安装在<code>/usr/bin/clangd-9</code>，将其设置为默认的连接符</p>
<pre><code class="language-bash">sudo update-alternatives --install /usr/bin/clangd clangd /usr/bin/clangd-9 100
</code></pre>
</li>
<li>
<p><strong>Other systems（CentOS等）</strong></p>
<p>服务器因为是CentOS7.6版本，所有需要自己编译，通过查阅无数资料，<code>clangd</code>的编译脚本如下：</p>
<pre><code class="language-bash">#!/bin/bash
  
set -e
  
mkdir clangd
cd clangd/
svn co http://llvm.org/svn/llvm-project/llvm/trunk llvm
  
cd llvm/tools
svn co http://llvm.org/svn/llvm-project/cfe/trunk clang
cd ../..
  
cd llvm/tools/clang/tools
svn co http://llvm.org/svn/llvm-project/clang-tools-extra/trunk extra
cd ../../../..
  
mkdir build
cd build
cmake -G &quot;Unix Makefiles&quot; ../llvm
make clangd
  
sudo update-alternatives --install /usr/bin/clangd clangd ./bin/clangd 100
</code></pre>
</li>
</ul>
<p>将其保存为<code>build-clangd.sh</code>，在终端<strong>根目录</strong>(<code>cd ~</code>进入自己的根目录下)运行<code>bash build-clangd.sh</code>进行编译，我大概花费了<strong>7个小时</strong>左右的时间进行编译</p>
<p><img src="https://pic.downk.cc/item/5e8cab56504f4bcb046002b7.png" alt="build clangd"></p>
<p>如图所示，编译完成，二进制文件在<code>~/clangd/build/bin</code>目录下，脚本的<code>Line 22</code>设置默认的<code>clangd</code>链接符，以便系统对<code>clangd</code>进行识别，在终端输入<code>clangd --version</code>，若可以看到版本信息且没有报错，则表明安装成功。若有类似的提示：未知的clangd命令，则可能需要将其二进制文件添加到系统<code>PATH</code>下，打开</p>
<pre><code class="language-bash">nvim ~/.bashrc
</code></pre>
<p>在最后一行，加入<code>export PATH=&quot;~/clangd/build/bin:$PATH&quot;</code>，即添加<code>clangd</code>编译好的二进制文件目录路径到<code>PATH</code>，再运行</p>
<pre><code class="language-bash">source ~/.bashrc    // 更新文件，即时生效
sudo update-alternatives --install /usr/bin/clangd clangd ~/clangd/build//clangd 100
</code></pre>
<p>安装<code>coc-clangd</code></p>
<p>打开<code>~/.vim/vimrc</code>文件，运行命令<code>:CocInstall coc-clangd</code>，coc-clangd<a href="https://github.com/clangd/coc-clangd#quick-start">不需要在coc-settings.json里进行设置</a>，至此在nvim里的C/C++智能代码感知功能安装完成。</p>
<p>你以为到这儿就结束了吗？本来我是这么以为的，直到……</p>
<p>我创建了一个示例文件试试代码补全的功能，一顿操作</p>
<pre><code class="language-bash">nvim ~/a.cpp
</code></pre>
<p>输入内容</p>
<pre><code>#include &lt;iostream&gt;
#include &lt;vector&gt;        
#include &lt;unordered_map&gt; 
#include &lt;queue&gt;
#include &lt;list&gt;          

using namespace std;     

int main()               
{
	cout &lt;&lt; &quot;hello world!&quot; &lt;&lt; endl;                         
	
	return 0;            
}
</code></pre>
<p>在终端运行<code>g++ a.cpp -o a</code>，然后翻车了</p>
<p><img src="https://pic.downk.cc/item/5e8d4a68504f4bcb04df533a.png" alt="编译error"></p>
<p>啥意思呢？就是说<code>a.py</code>用到了<strong>C++11</strong>的新特性（#include &lt;unordered_map&gt; ），而当前g++版本是4.8.5（g++ &ndash;version查看），默认支持<strong>C++98</strong>，所以如果要使用C++11的新特性，在编译时加上<code>-std=c++11</code>或<code>-std=gnu++11</code>，即</p>
<pre><code class="language-bash">g++ -std=c++11 a.cpp -o a
</code></pre>
<p><strong>配置Python环境</strong></p>
<p>参考<a href="https://github.com/neoclide/coc-python">链接</a>，首先需要安装<a href="https://github.com/palantir/python-language-server">python-language-server</a></p>
<pre><code class="language-bash">sudo pip3 install 'python-language-server[all]'
</code></pre>
<p>接着安装<a href="https://jedi.readthedocs.io/en/latest/docs/installation.html">Jedi</a></p>
<pre><code class="language-bash">sudo pip3 install jedi
</code></pre>
<p>此时语言解析器配置完成。</p>
<p>在终端输入<code>nvim</code>，运行命令<code>:CocInstall coc-python</code>，显示<code>[coc.nvim]Installed extension: coc-python</code>，表示安装完成。</p>
<p>在系统里，可能不同的python脚本需要不同的python解释器，系统也允许存在不同的python解释器，所以在打开你想要编辑的python文件后，需要设置你所有需要的python解释器，假设<code>a.py</code>需要python3解释器，</p>
<pre><code class="language-bash">nvim a.py
</code></pre>
<p>然后在<strong>普通模式</strong>下输入命令<code>:CocCommand</code>，接着找到<code>python.setInterpreter</code>，找到你所需要的环境即可，这时安装在此环境下的包才会出发自动补全功能。</p>
<p><img src="https://pic.downk.cc/item/5e8dbdda504f4bcb0443d423.png" alt="coc-python"></p>
<p>其它语言请参考<a href="https://github.com/neoclide/coc.nvim/wiki/Using-coc-extensions#implemented-coc-extensions">LSP</a></p>
<h5 id="缩进显示--indentline">缩进显示 — indentLine</h5>
<pre><code class="language-bash">&quot; 显示缩进标注, Python语言必须
Plug 'Yggdroot/indentLine'
</code></pre>
<h5 id="文件操作历史--undotree">文件操作历史 — Undotree</h5>
<pre><code class="language-bash">&quot; 列出文件最近的操作历史
Plug 'mbbill/undotree'
</code></pre>
<h5 id="命令行模糊搜索工具--fzffzf-vim">命令行模糊搜索工具 — fzf/fzf-vim</h5>
<p><a href="https://github.com/junegunn/fzf">fzf</a></p>
<pre><code class="language-bash">git clone --depth 1 https://github.com/junegunn/fzf.git ~/.fzf
~/.fzf/install
</code></pre>
<p><a href="https://github.com/junegunn/fzf.vim">fzf-vim</a></p>
<pre><code class="language-bash">Plug 'junegunn/fzf', { 'do': { -&gt; fzf#install() } }
Plug 'junegunn/fzf.vim'
</code></pre>
<p>要想使用文件内搜索命令，需要提前安装<a href="https://github.com/ggreer/the_silver_searcher">ag</a></p>
<pre><code class="language-bash">sudo yum install the_silver_searcher
</code></pre>
<h3 id="一些要点">一些要点</h3>
<h3 id="一些问题">一些问题</h3>
<ul>
<li>
<p>:PluginInstall 不是编辑器命令？</p>
<p>两个原因</p>
<ul>
<li>路径配置出错</li>
</ul>
<p>目前来看是路径问题，根据<a href="https://github.com/VundleVim/Vundle.vim/">官网</a>描述，安装命令为</p>
<pre><code>git clone https://github.com/gmarik/Vundle.vim.git ~/.vim/bundle/Vundle.vim
</code></pre>
<p>可能在~/.vim/vimrc配置文件中把<strong>bundle</strong>写成了<strong>bunlde</strong>，<strong>Vundle</strong>写成<strong>Vumdle</strong>……真的醉了……浪费了两个小时时间……</p>
<ul>
<li>实在没有办法，将安装命令调整为</li>
</ul>
<pre><code>git clone https://github.com/gmarik/Vundle.vim.git ~/.vim/plugin/Vundle.vim
</code></pre>
<p>哔了狗了。</p>
</li>
<li>
<p><strong>Vim卡住，死机？</strong></p>
<p><strong>原因</strong>：</p>
<p>使用vim时，会因为不小心按了Ctrl + s后，会发现不能输入任何字符，类似死机；</p>
<p>这并不是Linux死机，或者vim卡住，而只是按了Ctrl + s后，vim停止向终端输出。</p>
<p><strong>解决方法</strong>：</p>
<p>退出这种状态，按下<strong>Ctrl + q</strong> 。</p>
</li>
<li>
<p>升级<strong>Ruby</strong></p>
<p>打开<code>nvim</code>，输入命令<code>:CheckHealth</code>，如果提示Ruby版本过低，则需要升级</p>
<ol>
<li>
<p>查看当前Ruby版本</p>
<pre><code class="language-bash">ruby --version
</code></pre>
<p>显示的是<strong>ruby 2.0.0p648 (2015-12-16) [x86_64-linux]</strong></p>
</li>
<li>
<p>安装yum源</p>
<pre><code class="language-bash">yum install -y centos-release-scl-rh
</code></pre>
</li>
<li>
<p>安装指定版本的ruby</p>
<pre><code class="language-bash">yum install -y rh-ruby24
</code></pre>
</li>
<li>
<p>使升级后的ruby版本生效</p>
<pre><code class="language-bash">scl enable rh-ruby24 bash
</code></pre>
</li>
<li>
<p>查看是否升级成功</p>
<pre><code class="language-bash">ruby --version
</code></pre>
<p>显示<strong>ruby 2.4.6p354 (2019-04-01 revision 67394) [x86_64-linux]</strong></p>
</li>
</ol>
<p><strong>但是</strong>，这种方法，<strong>只会在当前环境下有效</strong>，也就是说，退出当前环境就没有用了，还要执行第5步，所以最好对的方法是重新编译，方法如下</p>
<pre><code class="language-bash">wget http://cache.ruby-lang.org/pub/ruby/ruby-2.4.10.tar.gz
tar xvfvz ruby-2.4.10.tar.gz
cd ruby-2.4.10
./configure
make
sudo make install
</code></pre>
</li>
<li>
<p>安装<a href="https://gitlab.com/screenkey/screenkey">screenkey</a></p>
<pre><code class="language-bash">sudo yum install python-distutils-extra    // optional
wget https://www.thregr.org/~wavexx/software/screenkey/releases/screenkey-0.9.tar.gz
tar -zxvf screenkey-0.9.tar.gz
cd cd screenkey-0.9/
./screenkey
sudo ./setup.py install
</code></pre>
</li>
</ul>
<h3 id="结语">结语</h3>
<p>nvim的外壳<a href="https://github.com/onivim/oni">onivim</a></p>
<h3 id="后续计划">后续计划</h3>
<p>插件相关</p>
<ul>
<li><input disabled="" type="checkbox"> Python交互式编程<a href="https://github.com/sillybun/vim-repl">vim-repl</a></li>
<li><input disabled="" type="checkbox"> git相关插件</li>
</ul>
<p>Linux相关</p>
<ul>
<li><input disabled="" type="checkbox"> 在客户端界面下安装<a href="https://i3wm.org/">i3</a></li>
<li><input disabled="" type="checkbox"> 使用<strong>fish</strong>和<strong>oh my fish</strong></li>
<li><input disabled="" type="checkbox"> 结合<strong>tmux</strong>工具</li>
<li><input disabled="" type="checkbox"> 配置<a href="https://github.com/robbyrussell/oh-my-zsh">oh my zsh</a>和<a href="https://github.com/bhilburn/powerlevel9k">主题</a></li>
<li><input disabled="" type="checkbox"> 更换系统字体为<a href="http://www.mycode.net.cn/wp-content/uploads/2016/06/Monaco.zip">Monaco</a></li>
<li><input disabled="" type="checkbox"> 更新<a href="https://www.jianshu.com/p/0659d5561502">zsh版本</a></li>
</ul>
<h3 id="参考">参考</h3>
<ul>
<li>
<p><a href="https://juejin.im/post/5a38c37f6fb9a0450909a151#heading-1">https://juejin.im/post/5a38c37f6fb9a0450909a151#heading-1</a></p>
</li>
<li>
<p><a href="https://github.com/ycm-core/YouCompleteMe/wiki/Building-Vim-from-source">编译支持python3的Vim</a></p>
</li>
<li>
<p><a href="https://github.com/VundleVim/Vundle.vim">Vim插件管理Vundle</a></p>
</li>
</ul>
                        </div><div class="tags my-3"><a class="badge badge-pill badge-light border mr-2" href="/tags/vim">
                                    <i class="fas fa-tag mr-2"></i>vim
                                </a></div><ul class="share nav my-3 justify-content-end">
        <li class="nav-item">
            <a class="nav-link" target="_blank" href="https://twitter.com/intent/tweet?url=https%3a%2f%2fwww.kangzhiheng.top%2fpost%2f9-linux%25E4%25B9%258B%25E6%2589%2593%25E9%2580%25A0vim%25E5%25AE%259E%25E7%2594%25A8%25E9%2585%258D%25E7%25BD%25AE%25E6%2596%25B9%25E6%25A1%2588%2f&text=Linux%e4%b9%8b%e5%83%8fIDE%e4%b8%80%e6%a0%b7%e4%bd%bf%e7%94%a8vim%ef%bc%88C%2b%2b%e7%89%88%e6%9c%ac%2fPython%e7%89%88%e6%9c%ac">
              <i class="fa-fw fab fa-twitter"></i>
          </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" target="_blank" href="https://www.linkedin.com/shareArticle?url=https%3a%2f%2fwww.kangzhiheng.top%2fpost%2f9-linux%25E4%25B9%258B%25E6%2589%2593%25E9%2580%25A0vim%25E5%25AE%259E%25E7%2594%25A8%25E9%2585%258D%25E7%25BD%25AE%25E6%2596%25B9%25E6%25A1%2588%2f&title=Linux%e4%b9%8b%e5%83%8fIDE%e4%b8%80%e6%a0%b7%e4%bd%bf%e7%94%a8vim%ef%bc%88C%2b%2b%e7%89%88%e6%9c%ac%2fPython%e7%89%88%e6%9c%ac">
                <i class="fa-fw fab fa-linkedin-in"></i>
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" target="_blank" href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fwww.kangzhiheng.top%2fpost%2f9-linux%25E4%25B9%258B%25E6%2589%2593%25E9%2580%25A0vim%25E5%25AE%259E%25E7%2594%25A8%25E9%2585%258D%25E7%25BD%25AE%25E6%2596%25B9%25E6%25A1%2588%2f&t=Linux%e4%b9%8b%e5%83%8fIDE%e4%b8%80%e6%a0%b7%e4%bd%bf%e7%94%a8vim%ef%bc%88C%2b%2b%e7%89%88%e6%9c%ac%2fPython%e7%89%88%e6%9c%ac">
                <i class="fa-fw fab fa-facebook-f"></i>
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" target="_blank" href="https://reddit.com/submit?url=https%3a%2f%2fwww.kangzhiheng.top%2fpost%2f9-linux%25E4%25B9%258B%25E6%2589%2593%25E9%2580%25A0vim%25E5%25AE%259E%25E7%2594%25A8%25E9%2585%258D%25E7%25BD%25AE%25E6%2596%25B9%25E6%25A1%2588%2f&title=Linux%e4%b9%8b%e5%83%8fIDE%e4%b8%80%e6%a0%b7%e4%bd%bf%e7%94%a8vim%ef%bc%88C%2b%2b%e7%89%88%e6%9c%ac%2fPython%e7%89%88%e6%9c%ac">
                <i class="fa-fw fab fa-reddit-alien"></i>
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" target="_blank" href="https://github.com/kangzhiheng?url=https%3a%2f%2fwww.kangzhiheng.top%2fpost%2f9-linux%25E4%25B9%258B%25E6%2589%2593%25E9%2580%25A0vim%25E5%25AE%259E%25E7%2594%25A8%25E9%2585%258D%25E7%25BD%25AE%25E6%2596%25B9%25E6%25A1%2588%2f&title=Linux%e4%b9%8b%e5%83%8fIDE%e4%b8%80%e6%a0%b7%e4%bd%bf%e7%94%a8vim%ef%bc%88C%2b%2b%e7%89%88%e6%9c%ac%2fPython%e7%89%88%e6%9c%ac">
                <i class="fa-fw fab fa-github"></i>
            </a>
        </li>
    </nav>
                    </div>
                </div>

                <div class="row justify-content-center">
                    <div class="col-lg-8">
                        
                    </div>
                </div></article>
            
        </div>
    </div>
    
    
    <div id="gitalk-container"></div>
    <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
    <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
    <script>
        const gitalk = new Gitalk({
            clientID: '63ea86b104bd9a73070a',
            clientSecret: '9d66cbaf6cf4e5d6400f0d081883eb9dc60d987e',
            repo: 'adoredee.github.io',
            owner: 'adoredee',
            admin: ['adoredee'],
            id: location.pathname, 
            distractionFreeMode: false 
        });
        (function() {
            if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
                document.getElementById('gitalk-container').innerHTML = 'Gitalk comments not available by default when the website is previewed locally.';
                return;
            }
            gitalk.render('gitalk-container');
        })();
    </script>


    
    
</main>


    <footer class="footer text-center bg-dark py-6">
    <div class="container">
        <div class="row">
            <div class="col">
                <ul class="list-inline">
                    <li class="list-inline-item"><a href="https://www.kangzhiheng.top/index.xml" rel="alternate" type="application/rss+xml" class="icons d-block">
                                    <span class="fa-stack fa-lg">
                                        <i class="fa fa-circle fa-stack-2x"></i>
                                        <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a></li><li class="list-inline-item">
                        <a href="mailto:kangzhiheng@live.cn" class="icons d-block">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li><li class="list-inline-item">
                            <a href="https://facebook.com" class="icons d-block">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fab fa-facebook fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li><li class="list-inline-item">
                            <a href="https://github.com/kangzhiheng" class="icons d-block">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li><li class="list-inline-item">
                            <a href="https://gitlab.com" class="icons d-block">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fab fa-gitlab fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li><li class="list-inline-item">
                            <a href="https://stackoverflow.com" class="icons d-block">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fab fa-instagram fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li><li class="list-inline-item">
                            <a href="https://linkedin.com" class="icons d-block">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li><li class="list-inline-item">
                            <a href="https://mastodon.social" class="icons d-block">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fab fa-mastodon fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li><li class="list-inline-item">
                            <a href="https://reddit.com" class="icons d-block">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fab fa-reddit fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li><li class="list-inline-item">
                            <a href="https://stackoverflow.com" class="icons d-block">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fab fa-stack-overflow fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li><li class="list-inline-item">
                            <a href="https://twitter.com" class="icons d-block">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                </ul>

                <p class="text-muted">
                    
                        Copyright @ 2008 - 2020, Steve Francia and the Hugo Authors; All Rights Reserved.
                    
                </p>

                <p class="text-muted">
                Powered by <a href="https://gohugo.io" target="_blank">Hugo</a> with <a href="https://github.com/puresyntax71/hugo-theme-chunky-poster" target="_blank">Chunky Poster</a>.
                Modified by <a href="https://github.com/kangzhiheng" target="_blank">Kangzhiheng</a>.
                </p>
                
                <p class="text-muted">
                    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
                    本页总阅读量
                    <span id="busuanzi_container_page_pv">
                        <span id="busuanzi_value_page_pv"></span>
                    </span>
                    次，感谢
                    <span id="busuanzi_container_site_uv">
                        <span id="busuanzi_value_site_uv"></span>
                    </span>
                    位小伙伴的第
                    <span id="busuanzi_container_site_pv">
                        <span id="busuanzi_value_site_pv"></span>
                    </span>
                    次光临
                </p>
            </div>
        </div>
    </div>  

    
    

    
    <script src="https://cdn.bootcss.com/mermaid/8.0.0-rc.8/mermaid.min.js"></script>


</footer>


    
    
        
            <script src="/dist/main.d608eadfe5ac0688902e.min.js"></script>
        
    



<script>
    window.Prism = window.Prism || {};
    window.Prism.manual = true;
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-core.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/plugins/autoloader/prism-autoloader.min.js"></script>






    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-166758556-1', 'auto');
	
	ga('send', 'pageview');
}
</script>


    <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
    </div>

</body>

</html>
